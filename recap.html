<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <style>
        *{
            background-color: black;
        }
        h1{
            color: aliceblue;
            text-transform: capitalize;
        }
    </style>

    <canvas>
        <h1>canvas</h1>
    </canvas>

    <script>
        // canvas java script
        var canvas = document.querySelector('canvas');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        var c = canvas.getContext('2d');
        //get color
        var randomColor =  "#"+ Math.floor(Math.random()*0xFFFFFF).toString(16)
        //gradient
        //context.createLinearGradient(0, 0, canvas.width, canvas.height);
        var gradient = c.createLinearGradient(0,0,window.innerWidth,window.innerHeight)
        gradient.addColorStop(0,"lightblue");
        gradient.addColorStop(1,"blue");

        
        var mouse = {
            x:undefined,
            y:undefined,
        }

        window.addEventListener('mousemove',function(event){
            //get mouse position
            mouse.x = event.x,
            mouse.y = event.y
            console.log(mouse)
            console.log('event', event)
        })


        function Circle(x,y,radius,dx,dy){
            this.x = x;
            this.y = y;
            this.radius = radius;
            this.dx = dx;
            this.dy = dy;
            c.strokeStyle = "white"
            c.fillStyle = randomColor
            this.draw=()=>{
                c.beginPath()
                c.arc(this.x,this.y,this.radius,0,Math.PI*2,false)
                c.strokeStyle = randomColor
                c.stroke()
                        }
            this.move=()=>{
                if(this.x + this.radius > innerWidth || this.x - this.radius < 0){
               this.dx = -this.dx
               if(this.y + this.radius > innerHeight || this.y - this.radius < 0){
                   this.dy = -this.dy
                }
            }    
            this.x += this.dx;
            this.y += this.dy;
            // interactivity
            //여기 다시
            if(mouse.x - this.x < 50 && mouse.x - this.x > -50
            && mouse.y - this.x < 50 && mouse.y - this.x > -50){
            this.radius += 1;
            if(this.radius < 50){
                this.radius += 1
            }
            }else if(this.radius > 5){
                this.radius -= 1;
            }
            this.draw()
            }
        }
        //draw new circle with static value
        var circle = new Circle(200,200,50,6,6);
        //get arguments form variable (random)
        //var circle = new Circle(x,y,radius,dx,dy)
        
        //array and for loop
        var circleArray = [];
        for(i=0; i < 100; i++)
        {
        // variable -random setting
        var x = Math.random()*(innerWidth-radius * 2)+radius;
        var y = Math.random()*(innerHeight-radius*2)+radius;
        var radius = 20
        var dx = (Math.random()-0.5)*10;
        var dy = (Math.random()-0.5)*10;
        circleArray.push(new Circle(x,y,radius,dx,dy))
        }

        bounce=()=>{
            requestAnimationFrame(bounce)
            c.clearRect(0,0,innerWidth,innerHeight)
            circle.move()
            c.beginPath();
            c.strokeStyle = "white";
            c.arc(x,y,radius,0,Math.PI*2,false);
            // c.fillText("Shiri",x,y)
            // c.font("30px")
            c.stroke()
            c.fill()
            //calling circles where are in the array
            for(i=0; i < circleArray.length; i++){
             circleArray[i].move()
            }
        }
        bounce();
        //fille color
        c.fillStyle=gradient;        
        c.fill();
                </script>
</body>
</html>